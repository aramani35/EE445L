#include <stdint.h>
#define OFFSET 540

uint16_t const ADCdata[53]={0,307,351,395,441,488,535,584,634,685,737,							
     790,844,900,956,1014,1073,1133,1194,1257,1321,							
     1385,1452,1519,1588,1657,1729,1801,1874,1949,2025,							
     2102,2180,2260,2341,2422,2505,2589,2675,2761,2848,							
     2936,3026,3116,3207,3299,3392,3485,3580,3675,3770,3867,4096};							

uint16_t const Tdata[53]={4000,4000,3940,3880,3820,3760,3700,3640,3580,3520,3460,							
     3400,3340,3280,3220,3160,3100,3040,2980,2920,2860,							
     2800,2740,2680,2620,2560,2500,2440,2380,2320,2260,							
     2200,2140,2080,2020,1960,1900,1840,1780,1720,1660,							
     1600,1540,1480,1420,1360,1300,1240,1180,1120,1060,1000,1000};							

uint16_t const Rdata[53]={5827,5827,5993,6164,6341,6523,6712,6907,7108,7316,7530,		
     7752,7982,8219,8464,8717,8980,9251,9531,9821,10121,		
     10432,10753,11085,11430,11786,12155,12537,12933,13343,13767,		
     14207,14663,15135,15625,16133,16659,17205,17771,18358,18967,		
     19599,20255,20935,21641,22375,23136,23927,24748,25601,26487,27408,27408};		


int32_t ConvertToTemperature(int32_t ADC_Sample){
	int cnt;

	for(cnt = 0; cnt < 53; cnt++){
		if(ADCdata[cnt] > ADC_Sample){
			break;
		}
	}
	
	return Tdata[(cnt-1)]+OFFSET;
}